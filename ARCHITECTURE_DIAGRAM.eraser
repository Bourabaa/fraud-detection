---
title: Fraud Detection System - Architecture Compl√®te
---

# Fraud Detection System Architecture

```mermaid
graph TB
    User[üë§ Utilisateur] -->|1. Saisie transaction| ReactUI[React UI<br/>Interface Utilisateur]
    ReactUI -->|2. POST /api/predict HTTPS| Amplify[AWS Amplify<br/>H√©bergement Frontend]
    Amplify -->|3. Requ√™te HTTPS| LambdaURL[Lambda Function URL<br/>Proxy HTTPS]
    LambdaURL -->|4. Routage| LambdaFunc[Lambda Function<br/>Node.js Proxy]
    LambdaFunc -->|5. Proxy HTTP| Backend[Node.js/Express Server<br/>API REST]
    Backend -->|6. H√©bergement| EB[Elastic Beanstalk<br/>EC2 Instance]
    Backend -->|7. invokeEndpoint| SageMaker[SageMaker Endpoint<br/>ML Inference]
    SageMaker -->|8. Pr√©diction| MLModel[ML Model<br/>Fraud Detection]
    MLModel -->|9. R√©sultat| SageMaker
    SageMaker -->|10. Response| Backend
    Backend -->|11. Logs & M√©triques| CloudWatch[CloudWatch<br/>M√©triques & Logs]
    LambdaFunc -->|12. Logs| CloudWatch
    Backend -->|13. JSON Response| LambdaFunc
    LambdaFunc -->|14. Response| LambdaURL
    LambdaURL -->|15. HTTPS Response| ReactUI
    ReactUI -->|16. Affichage r√©sultat| User
    CloudWatch -->|17. Lecture m√©triques| Grafana[Grafana Cloud<br/>Dashboards & Visualisation]
```

## Composants Principaux

### 1. Frontend Layer
- **React UI**: Interface utilisateur moderne avec Tailwind CSS
  - Input manuel (30 features)
  - Upload CSV pour traitement par lot
  - Affichage des r√©sultats avec confidence score
- **AWS Amplify**: H√©bergement et d√©ploiement automatique

### 2. API Proxy Layer
- **Lambda Function URL**: Point d'entr√©e HTTPS public
  - Convertit HTTP ‚Üí HTTPS
  - G√®re CORS automatiquement
- **Lambda Function**: Proxy serverless
  - Route les requ√™tes vers le backend HTTP
  - G√®re les erreurs et logging

### 3. Backend Layer
- **Node.js/Express Server**: API REST
  - Endpoint: `/api/predict`
  - Validation des donn√©es (30 features)
  - Int√©gration avec SageMaker
- **Elastic Beanstalk**: H√©bergement scalable
  - EC2 instance (t2.micro)
  - Auto-scaling disponible

### 4. Machine Learning Layer
- **SageMaker Endpoint**: Endpoint de pr√©diction
  - Nom: `fraud-detection-model-YYYY-MM-DD-HH-MM-SS`
  - R√©gion: `us-east-1`
- **ML Model**: Mod√®le de d√©tection de fraude
  - Input: 30 features (Time, V1-V28, Amount)
  - Output: Probabilit√© de fraude (0-1)

### 5. Monitoring Layer
- **CloudWatch**: M√©triques AWS
  - PredictionCount (Fraud/Legitimate)
  - ConfidenceScore
  - ResponseTime
  - ErrorCount
- **Grafana Cloud**: Visualisation
  - Dashboards en temps r√©el
  - Alertes configur√©es

## Flux de Donn√©es Complet

### Requ√™te (Request Flow)
1. **Utilisateur** ‚Üí Saisit transaction dans React UI
2. **React UI** ‚Üí Envoie POST √† Lambda Function URL (HTTPS)
3. **Lambda Function URL** ‚Üí Route vers Lambda Function
4. **Lambda Function** ‚Üí Proxy vers Backend (HTTP)
5. **Backend** ‚Üí Appelle SageMaker Endpoint
6. **SageMaker** ‚Üí Ex√©cute le mod√®le ML
7. **ML Model** ‚Üí Retourne pr√©diction (0 ou 1)

### R√©ponse (Response Flow)
8. **SageMaker** ‚Üí Retourne r√©sultat au Backend
9. **Backend** ‚Üí Log les m√©triques dans CloudWatch
10. **Backend** ‚Üí Retourne JSON au Lambda Function
11. **Lambda Function** ‚Üí Log dans CloudWatch
12. **Lambda Function** ‚Üí Retourne r√©ponse au Lambda URL
13. **Lambda URL** ‚Üí Retourne HTTPS response au React UI
14. **React UI** ‚Üí Affiche r√©sultat √† l'utilisateur

### Monitoring Flow
15. **Backend & Lambda** ‚Üí Envoient m√©triques √† CloudWatch
16. **Grafana Cloud** ‚Üí Lit m√©triques depuis CloudWatch
17. **Dashboards** ‚Üí Visualisation en temps r√©el

## Configuration

### Variables d'Environnement

**Frontend (Amplify):**
- `REACT_APP_API_URL`: URL du Lambda Function URL (HTTPS)

**Backend (Elastic Beanstalk):**
- `AWS_REGION`: `us-east-1`
- `AWS_ACCESS_KEY_ID`: Credentials AWS
- `AWS_SECRET_ACCESS_KEY`: Credentials AWS
- `PORT`: `5000` (g√©r√© par Elastic Beanstalk)

**Lambda Function:**
- `BACKEND_BASE_URL`: URL Elastic Beanstalk (HTTP)

## S√©curit√©

- **HTTPS**: Frontend ‚Üí Lambda (via Function URL)
- **HTTP**: Lambda ‚Üí Backend (proxy interne)
- **IAM Roles**: Backend ‚Üí SageMaker (permissions)
- **CORS**: Configur√© dans Lambda et Backend
- **Credentials**: Stock√©es dans variables d'environnement

## Technologies Utilis√©es

- **Frontend**: React 19, Tailwind CSS, Lucide Icons
- **Backend**: Node.js, Express, AWS SDK v2
- **Proxy**: AWS Lambda (Node.js 20.x)
- **Hosting**: AWS Amplify, Elastic Beanstalk
- **ML**: AWS SageMaker
- **Monitoring**: CloudWatch, Grafana Cloud

## √âtapes de D√©ploiement

1. ‚úÖ **SageMaker**: D√©ployer le mod√®le ML
2. ‚úÖ **Backend**: D√©ployer sur Elastic Beanstalk
3. ‚úÖ **Lambda**: Cr√©er fonction proxy avec Function URL
4. ‚úÖ **Frontend**: D√©ployer sur AWS Amplify
5. ‚úÖ **Monitoring**: Configurer CloudWatch et Grafana

## M√©triques Surveill√©es

- **PredictionCount**: Nombre de pr√©dictions par type (Fraud/Legitimate)
- **ConfidenceScore**: Score de confiance moyen
- **ResponseTime**: Temps de r√©ponse API
- **ErrorCount**: Nombre d'erreurs
- **Lambda Invocations**: Nombre d'invocations Lambda
- **Lambda Duration**: Dur√©e d'ex√©cution Lambda

